<main class="main-content">
  @switch (activeView$ | async) {
    @case ('site') {
      <div class="iframe-container">
        <iframe
          *ngIf="selectedSiteUrl$ | async as url"
          [src]="url"
          frameborder="0"
          allowfullscreen
          allow="clipboard-read; clipboard-write"
          (load)="onIframeLoaded()"
          (error)="onIframeError()"></iframe>

        <!-- חיווי טעינה -->
        <div class="loading-overlay" *ngIf="isLoading()">
          <div class="spinner"></div>
          <div class="loading-text">טוען...</div>
        </div>

        <div *ngIf="(selectedSiteUrl$ | async) === null" class="placeholder">
          <span>בחר ערוץ מהרשימה או הוסף ערוץ חדש</span>
        </div>
      </div>
    }

    @case ('custom') {
      <!-- FIX: הוספת עטיפה עם קלאס ייעודי -->
      <div class="custom-content-wrapper" [innerHTML]="sanitizedCustomContent$ | async">
        <!-- External HTML will be rendered here -->
      </div>
    }
  }
</main>
