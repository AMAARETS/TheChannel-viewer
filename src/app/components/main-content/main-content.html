<main class="main-content">
  @switch (activeView$ | async) {
    @case ('site') {
      <div class="iframe-container">
        <iframe *ngIf="selectedSiteUrl$ | async as url" [src]="url" frameborder="0" allowfullscreen allow="clipboard-read; clipboard-write"></iframe>
        <div *ngIf="!(selectedSiteUrl$ | async)" class="placeholder">
          <span>בחר ערוץ מהרשימה או הוסף ערוץ חדש</span>
        </div>
      </div>
    }
    @case ('advertise') {
      <div class="page-container advertise-page">
        <div class="page-content">
          <div class="advertise-header">
            <div class="header-icon">🚀</div>
            <h1>העסק שלך במרכז הבמה</h1>
            <p class="subtitle">הגעתם למקום הנכון להזניק את העסק שלכם קדימה! אלפי משתמשים פעילים מחכים לראות אתכם.</p>
          </div>

          <div class="features">
            <div class="feature-item">
              <div class="feature-icon">🎯</div>
              <h3>חשיפה ממוקדת</h3>
              <p>הפרסום שלכם יגיע בדיוק לקהל היעד הרלוונטי, שמחפש תוכן איכותי ופתרונות חדשניים, ובכך ימקסם את התוצאות.</p>
            </div>
            <div class="feature-item">
              <div class="feature-icon">📈</div>
              <h3>הגדלת תנועה ומכירות</h3>
              <p>באנר פרסומי בולט ומעוצב ימשוך את תשומת הלב ויניע תנועה איכותית ישירות לאתר שלכם, מה שיוביל לעלייה משמעותית בלידים ובמכירות.</p>
            </div>
            <div class="feature-item">
              <div class="feature-icon">💰</div>
              <h3>תמורה אדירה להשקעה</h3>
              <p>אנחנו מציעים חבילות פרסום אטרקטיביות במחירים תחרותיים, כדי לאפשר גם לעסקים קטנים ובינוניים ליהנות מחשיפה רחבה ויעילה.</p>
            </div>
          </div>

          <div class="cta-section">
            <h2>מוכנים להתחיל?</h2>
            <p>הפרסום אצלנו פשוט עובד. בואו נדבר!</p>
            <button class="cta-button" (click)="goToContactPage()">
              כן, אני רוצה לפרסם! (צור קשר)
            </button>
          </div>
        </div>
      </div>
    }
    @case ('contact') {
      <div class="page-container">
        <div class="page-content contact-form-container">
          <h2>יצירת קשר</h2>
          <p>נשמח לשמוע מכם! מלאו את הטופס ונחזור אליכם בהקדם.</p>
          <form [formGroup]="contactForm" (ngSubmit)="onFormSubmit()">
            <div class="form-group">
              <label for="name">שם מלא</label>
              <input type="text" id="name" formControlName="name" required>
            </div>
            <div class="form-group">
              <label for="email">כתובת אימייל</label>
              <input type="email" id="email" formControlName="email" required>
            </div>
            <div class="form-group">
              <label for="message">הודעה</label>
              <textarea id="message" formControlName="message" rows="5" required></textarea>
            </div>

            <button type="submit" [disabled]="contactForm.invalid || formStatus === 'sending'" class="submit-btn">
              @if (formStatus === 'sending') {
                <span>שולח...</span>
              } @else {
                <span>שלח פנייה</span>
              }
            </button>

            @if (formStatus === 'success' || formStatus === 'error') {
              <div class="form-message" [ngClass]="{'success': formStatus === 'success', 'error': formStatus === 'error'}">
                {{ formStatusMessage }}
              </div>
            }
          </form>
        </div>
      </div>
    }
  }
</main>
